

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HPX runtime and resources &mdash; HPX 1.2.0-trunk documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="HPX 1.2.0-trunk documentation" href="../index.html"/>
        <link rel="up" title="Manual" href="../manual.html"/>
        <link rel="next" title="Troubleshooting" href="troubleshooting.html"/>
        <link rel="prev" title="Optimizing HPX applications" href="optimizing_hpx_applications.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HPX
          

          
            
            <img src="../_static/HPX.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../why_hpx.html">Why <em>HPX</em>?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../manual.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="building_hpx.html"><em>HPX</em> build system</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_hpx_projects.html">Creating <em>HPX</em> projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="starting_the_hpx_runtime.html">Starting the <em>HPX</em> runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="launching_and_configuring_hpx_applications.html">Launching and configuring <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_single_node_hpx_applications.html">Writing single-node <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_distributed_hpx_applications.html">Writing distributed <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_on_batch_systems.html">Running on batch systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging_hpx_applications.html">Debugging <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimizing_hpx_applications.html">Optimizing <em>HPX</em> applications</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><em>HPX</em> runtime and resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hpx-thread-scheduling-policies"><em>HPX</em> thread scheduling policies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#priority-local-scheduling-policy-default-policy">Priority local scheduling policy (default policy)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#static-priority-scheduling-policy">Static priority scheduling policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#local-scheduling-policy">Local scheduling policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#static-scheduling-policy">Static scheduling policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#priority-abp-scheduling-policy">Priority ABP scheduling policy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="miscellaneous.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../additional_material.html">Additional material</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to <em>HPX</em></a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_hpx.html">About <em>HPX</em></a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HPX</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../manual.html">Manual</a> &raquo;</li>
        
      <li><em>HPX</em> runtime and resources</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hpx-runtime-and-resources">
<h1><em>HPX</em> runtime and resources<a class="headerlink" href="#hpx-runtime-and-resources" title="Permalink to this headline">¶</a></h1>
<div class="section" id="hpx-thread-scheduling-policies">
<span id="schedulers"></span><h2><em>HPX</em> thread scheduling policies<a class="headerlink" href="#hpx-thread-scheduling-policies" title="Permalink to this headline">¶</a></h2>
<p>The HPX runtime has five thread scheduling policies: local-priority,
static-priority, local, static and abp-priority. These policies can be specified
from the command line using the command line option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a>. In
order to use a particular scheduling policy, the runtime system must be built
with the appropriate scheduler flag turned on (e.g. <code class="docutils literal notranslate"><span class="pre">cmake</span>
<span class="pre">-DHPX_THREAD_SCHEDULERS=local</span></code>, see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more
information).</p>
<div class="section" id="priority-local-scheduling-policy-default-policy">
<h3>Priority local scheduling policy (default policy)<a class="headerlink" href="#priority-local-scheduling-policy-default-policy" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>default or invoke using: <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">local-priority-fifo</span></code></li>
</ul>
<p>The priority local scheduling policy maintains one queue per operating system
(OS) thread. The OS thread pulls its work from this queue. By default the number
of high priority queues is equal to the number of OS threads; the number of high
priority queues can be specified on the command line using
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-high-priority-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:high-priority-threads</span></code></a>. High priority threads are executed by any
of the OS threads before any other work is executed. When a queue is empty work
will be taken from high priority queues first. There is one low priority queue
from which threads will be scheduled only when there is no other work.</p>
<p>For this scheduling policy there is an option to turn on NUMA sensitivity using
the command line option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-numa-sensitive"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:numa-sensitive</span></code></a>. When NUMA sensitivity is
turned on work stealing is done from queues associated with the same NUMA domain
first, only after that work is stolen from other NUMA domains.</p>
<p>This scheduler is enabled at build time by default and will be available always.</p>
<p>This scheduler can be used with two underlying queuing policies (FIFO:
first-in-first-out, and LIFO: last-in-first-out). The default is FIFO. In order
to use the LIFO policy use the command line option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=local-priority-lifo</span></code>.</p>
</div>
<div class="section" id="static-priority-scheduling-policy">
<h3>Static priority scheduling policy<a class="headerlink" href="#static-priority-scheduling-policy" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>invoke using: <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=static-priority</span></code> (or <code class="docutils literal notranslate"><span class="pre">-qs</span></code>)</li>
<li>flag to turn on for build: <code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=all</span></code> or
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=static-priority</span></code></li>
</ul>
<p>The static scheduling policy maintains one queue per OS thread from which each
OS thread pulls its tasks (user threads). Threads are distributed in a round
robin fashion. There is no thread stealing in this policy.</p>
</div>
<div class="section" id="local-scheduling-policy">
<h3>Local scheduling policy<a class="headerlink" href="#local-scheduling-policy" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>invoke using: <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=local</span></code> (or <code class="docutils literal notranslate"><span class="pre">-ql</span></code>)</li>
<li>flag to turn on for build: <code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=all</span></code> or
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=local</span></code></li>
</ul>
<p>The local scheduling policy maintains one queue per OS thread from which each OS
thread pulls its tasks (user threads).</p>
</div>
<div class="section" id="static-scheduling-policy">
<h3>Static scheduling policy<a class="headerlink" href="#static-scheduling-policy" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>invoke using: <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=static</span></code></li>
<li>flag to turn on for build: <code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=all</span></code> or
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=static</span></code></li>
</ul>
<p>The static scheduling policy maintains one queue per OS thread from which each
OS thread pulls its tasks (user threads). Threads are distributed in a round
robin fashion. There is no thread stealing in this policy.</p>
</div>
<div class="section" id="priority-abp-scheduling-policy">
<h3>Priority ABP scheduling policy<a class="headerlink" href="#priority-abp-scheduling-policy" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>invoke using: <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=abp-priority-fifo</span></code></li>
<li>flag to turn on for build: <code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=all</span></code> or
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_SCHEDULERS=abp-priority</span></code></li>
</ul>
<p>Priority ABP policy maintains a double ended lock free queue for each OS thread.
By default the number of high priority queues is equal to the number of OS
threads; the number of high priority queues can be specified on the command line
using <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-high-priority-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:high-priority-threads</span></code></a>. High priority threads are executed
by the first OS threads before any other work is executed. When a queue is empty
work will be taken from high priority queues first. There is one low priority
queue from which threads will be scheduled only when there is no other work. For
this scheduling policy there is an option to turn on NUMA sensitivity using the
command line option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-numa-sensitive"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:numa-sensitive</span></code></a>. When NUMA sensitivity
is turned on work stealing is done from queues associated with the same NUMA
domain first, only after that work is stolen from other NUMA domains.</p>
<p>This scheduler can be used with two underlying queuing policies (FIFO:
first-in-first-out, and LIFO: last-in-first-out). In order to use the LIFO
policy use the command line option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=abp-priority-lifo</span></code>.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="troubleshooting.html" class="btn btn-neutral float-right" title="Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="optimizing_hpx_applications.html" class="btn btn-neutral" title="Optimizing HPX applications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-1970, The Ste||ar Group.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.0-trunk',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>